<div style="text-align:center">
  <h1>出货管理</h1>
</div>
<hr/>
<div class="p_ops clearfix">

      <button type="button" class="btn my_btn pull-left" ng-click="add()"><span class="glyphicon glyphicon-plus"></span></button>
</div>
<table ng-table="ship.tableParams"  class="table table-bordered table-hover table-condensed"  show-filter="true" >
  <tbody>
      <colgroup>
        <col width="9%" />
        <col width="9%" />
        <col width="6%" />
        <col width="9%" />
        <col width="6%" />
        <col width="6%" />
        <col width="6%" />
        <col width="9%" />
        <col width="8%" />
        <col width="8%" />
        <col width="8%" />
      </colgroup>
    <tr ng-repeat="row in $data"  ng-form="rowForm" >
      <td data-title="'出货时间'"  ng-switch="row.isEditing"  filter="{outtime: 'text'}" >
          <span ng-switch-default>{{row.outtime}}</span>
          <div class="controls" ng-class="" ng-switch-when="true">
              <input type="text" name="outtime" ng-model="row.outtime" class="form-control input-sm" required />
          </div>
      </td>
      <td data-title="'名称'" ng-switch="row.isEditing">
        <span ng-switch-default>{{row.name}}</span>
        <div class="controls" ng-class="" ng-switch-when="true">
            <input type="text" name="name" ng-model="row.name" class="form-control input-sm" required />
        </div>
      </td>
      <td data-title="'种类'" ng-switch="row.isEditing">
        <span ng-switch-default>{{row.category}}</span>
        <div class="controls" ng-class="" ng-switch-when="true">
            <input type="text" name="category" ng-model="row.category" class="form-control input-sm" required />
        </div>
      </td>
      <td data-title="'数量'"  sortable="'number'" ng-switch="row.isEditing">
          <span ng-switch-default>{{row.number}}</span>
        <div class="controls" ng-class="" ng-switch-when="true">
            <input type="text" name="number" ng-model="row.number" class="form-control input-sm" required />
        </div>
      </td>
      <td data-title="'单位'"  ng-switch="row.isEditing">
          <span ng-switch-default>{{row.unit}}</span>
        <div class="controls" ng-class="" ng-switch-when="true">
            <input type="text" name="unit" ng-model="row.unit" class="form-control input-sm" required />
        </div>
      </td>
      <td data-title="'销售价格'" filter="{price: 'number'}"  ng-switch="row.isEditing">
          <span ng-switch-default>{{row.price}}</span>
        <div class="controls" ng-class="" ng-switch-when="true">
            <input type="text" name="price" ng-model="row.price" class="form-control input-sm" required />
        </div>
      </td>
      <td data-title="'批次'" sortable="'number'"  filter="{pici: 'number'}" ng-switch="row.isEditing">
          <span ng-switch-default>{{row.pici}}</span>
          <div class="controls" ng-class="" ng-switch-when="true">
              <input type="text" name="pici" ng-model="row.pici" class="form-control input-sm" required />
          </div>
      </td>
      <td data-title="'备注'" class="text-c"><button class="btn btn-default btn-sm " ng-click="pcl.zhijian(row.number)" ><span class="glyphicon glyphicon-envelope"></span></button></td>
      <td data-title="'操作'">
          <button class="btn btn-primary btn-sm " ng-click="save(row)" ng-if="row.isEditing" ng-disabled="rowForm.$pristine || rowForm.$invalid"><span class="glyphicon glyphicon-ok"></span></button>
          <button class="btn btn-default btn-sm" ng-click="cancel(row)" ng-if="row.isEditing"><span class="glyphicon glyphicon-remove"></span></button>
          <button class="btn btn-default btn-sm" ng-click="edit(row)" ng-if="!row.isEditing"><span class="glyphicon glyphicon-pencil"></span></button>
          <button class="btn btn-danger btn-sm" ng-click="del(row)" ng-if="!row.isEditing"><span class="glyphicon glyphicon-trash"></span></button>
        </td>
    </tr>
  </tbody>
</table>


<script type="text/ng-template" id="proModal.html">
         <div class="modal-header">
             <h3 class="modal-title">添加出货记录</h3>
         </div>
         <div class="modal-body clearfix add_pro">
           <div class＝"form-horizontal" ng-form="add_pro">
             <div class="form-group">
               <label for="outtime" class="col-sm-2 control-label">出货日期：</label>
               <div class="col-sm-10">
                    <p class="input-group">
                      <input type="text" class="form-control" uib-datepicker-popup="{{format}}" ng-model="pInfo.outtime" is-open="status.outtimeOpened"  datepicker-options="dateOptions"  ng-required="true" close-text="Close" required/>
                      <span class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-click="outtimeOpen($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                      </span>
                    </p>
                </div>
             </div>
             <div class="form-group">
               <label for="category" class="col-sm-2 control-label">种类</label>
                   <div class="col-sm-4">
                       <input type="text" class="form-control  m-b" ng-model="pInfo.category" placeholder="请输入种类" required>
                  </div>
               <label for="name" class="col-sm-2 control-label">名称：</label>
                  <div class="col-sm-4">
                      <input type="text" class="form-control" ng-model="pInfo.name" placeholder="请输入名称" required>
                  </div>
             </div>
            <div class="form-group">
              <label for="number" class="col-sm-2 control-label">数量：</label>
                  <div class="col-sm-4">
                      <input type="text" class="form-control  m-b" ng-model="pInfo.number" placeholder="请输入数量" required>
                 </div>
              <label for="unit" class="col-sm-2 control-label">单位：</label>
                 <div class="col-sm-4">
                     <input type="text" class="form-control" ng-model="pInfo.unit" placeholder="请输入单位" required>
                 </div>
            </div>
            <div class="form-group">
              <label for="price" class="col-sm-2 control-label">价格：</label>
                  <div class="col-sm-4">
                      <input type="number" class="form-control  m-b" ng-model="pInfo.price" placeholder="请输入价格" required>
                 </div>
              <label for="pici" class="col-sm-2 control-label">批次：</label>
                 <div class="col-sm-4">
                     <input type="number" class="form-control" ng-model="pInfo.pici" placeholder="请输入批次" required>
                 </div>
            </div>
          </div>
         </div>
         <div class="modal-footer">
             <button class="btn btn-primary" type="button" ng-click="ok()" ng-disabled="add_pro.$invalid">确定</button>
             <button class="btn btn-danger" type="button" ng-click="cancel()">取消</button>
         </div>
</script>
